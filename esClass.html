<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>class</title>
</head>
<body>
    <ul class="ul">
        <li>0</li>
        <li>1</li>
        <li>2</li>
        <li>3</li>
        <li>4</li>
    </ul>
</body>
<!--js用到类的关键词class的时候要把type设置成module-->
<script type="module">
    class Animal{
        constructor(type,color){
            this.type = type;
            this.color = color;
        }
        getAnimal(){
            console.log("this is "+this.type+" color is "+this.color);
        }
    }
    let ani=new Animal('dog','black');
    ani.getAnimal();
    class Dog extends Animal{
        constructor(color,sound){
            super('dog',color);
            this.sound = sound;
        }
        getDog(){
            console.log("this is "+this.type+" color is "+this.color+" sound is "+this.sound);
        }
    }
    let dog = new Dog('white','wangwang');
    dog.getDog();
    import {sayHello,word} from "./export.js";
    import {debounce,debounce2} from "./js/debounce.js";
    import {throttle,throttle2} from "./js/throttle.js";

    sayHello();
    let res = word.includes('god');//es7的includes
    console.log(res);
    window.addEventListener('resize',debounce(500,function () {
       console.log(111);
    }));
    window.addEventListener('resize',debounce2(500,function () {
        console.log(222);
    }));
    window.addEventListener('resize',throttle(500,function () {
        console.log(333);
    }));
    window.addEventListener('resize',throttle2(500,function () {
        console.log(444);
    }));
    //测试一下for循环因为闭包引起的问题
    let ul = document.querySelector("ul");
    let lis = ul.querySelectorAll('li');
    //变量提升，全部返回5
    // for(var i=0;i<5;i++){
    //     lis[i].onclick = function(){
    //         console.log(i);
    //     }
    // }
    //let使得变量不提升
    // for(let j=0;j<5;j++){
    //     lis[j].onclick = function(){
    //         console.log(j);
    //     }
    // }
    //数组存储变量，使得能够正常返回
    console.log(typeof lis);
    for(var k=0;k<5;k++){
        //console.log(typeof lis[k]);
        lis[k].index = k;
        lis[k].addEventListener('click',function () {
            console.log(this.index);
        })
    }

    //测试把变量变对象
    let variable = {};
    variable.x=26;
    console.log(variable.x);
    console.log("**************************全局作用域*******************************")
    for(var inc = 0;inc<4;inc++){
        if(!sum){
            var sum =0;
        }
        var sum2 = 99;
        sum+=inc;
    }
    console.log(sum);
    console.log(sum2);//能够取到，没有函数，都是全局作用域内的


    //对象属性的测试
    function Test(name) {
        this.name = name;
    }
    Test.prototype.getName = function () {
        console.log(this.name);
    }
    let t1 = new Test('dzz');
    for(let item in t1){
        console.log('props:'+item);
        if(t1.hasOwnProperty(item)){
            console.log('ownprops:'+item);
        }
    }
    console.log('length:'+Test.length);
    console.log('length:'+Test.prototype);

    //Object.keys Object.values
    let keys = Object.keys(t1);
    let values = Object.values(t1);
    console.log(keys instanceof Array);
    console.log(values);
</script>
</html>
