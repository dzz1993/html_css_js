<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width initial-scale=1">
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <link rel="stylesheet" type="text/css" href="css/dzz_style.css">
    <title>bootstrap2</title>
    <style>

    </style>
</head>
<body>





<script type="text/javascript">
    var str="hello word";
    var c1=str.charAt(str.length-2);
    var c2=str.slice(-2,-1);
    var c3=str.substr(str.length-2,1);
    var c4=str.substring(str.length-2,str.length-1);
    console.log(c1+c2+c3+c4);
    var c5=str.slice(0,2);
    console.log(c5);
    var str2="{'name':'dzz','age':25}";
    var str3='{"name":"dzz","age":"25"}';
    var obj1=eval("("+str2+")");
    var obj2=eval("("+str3+")");
    //var obj3=JSON.parse(str2);
    var obj4=JSON.parse(str3);
    var obj5=(new Function("return"+str2))();
    var obj5=(new Function("return"+str3))();
    var str3=JSON.stringify(obj5);
    var obj6=JSON.parse(str3);
    console.log("obj1:");
    console.log(obj1);
    console.log("obj2:");
    console.log(obj2);
    console.log("obj3:");
    //console.log(obj3);

    console.log("obj5:");
    console.log(obj5);
    console.log("obj6:");
    console.log(obj6);

    function f1(){
        var n = 999;
        var m=0;
        nAdd = function(){
            console.log(n++);
        }//定义了一个全局变量存储匿名函数，该函数成为了一个闭包，内部局部变量n被存储起来不被释放
        function f2(){
            console.log(m++);
        }
        return f2;
    }
    var result = f1();//f1的返回值f2成为一个闭包，内部局部变量m被存储起来不释放
    result();　　//从函数外部通过闭包f2获取到函数f1内部局部变量的值0
    nAdd();　　//输出当前n的值999
    var num2=result();　　//再次通过闭包f2获取到函数m内部局部变量的值1
    nAdd(); //输出当前n的值1000
    var result2 = f1();
    result2();//输出0，result和result2虽然都存储的是f2代码（闭包），但是两个代码在堆内存中的位置不同，其内部变量不是一个变量

    //str.replace,测试一个操作
    let str111 = "my name is dzz,I am a good-boy";
    let newStr = str111.replace(/\b\w+\b(\w+)/g,function(reg){
        console.log(reg);
        return reg.charAt(0).toUpperCase()+reg.slice(1);
    });
    console.log(newStr);
    //使用()
    let str112 = "dzz-is-good";
    let newStr2 = str112.replace(/-(\w+)/g,function (reg,word) {
        return word.charAt(0).toUpperCase()+word.slice(1);
    });
    console.log(newStr2);
</script>
</body>
</html>
